원본 https://dev-coco.tistory.com/158 

### 데이터베이스의 특징에 대해 설명해주세요.
* 실시간으로 데이터들을 저장할 수 있어야 합니다. 또한 그 데이터들이 아무이유없이 없어지거나 삭제되지 않아야 합니다.

<details>
    <summary>정답</summary>

* 실시간 접근성(Real-Time Accessibility) : 비정형적인 질의(조회)에 대하여 실시간 처리에 의한 응답이 가능해야 하며,
* 지속적인 변화(Continuous Evloution) : 데이터베이스의 상태는 동적입니다. 즉 새로운 데이터의 삽입(Insert), 삭제(Delete), 갱신(Update)으로 항상 최신의 데이터를 유지해야 합니다.
* 동시 공용(Concurrent Sharing) : 데이터베이스는 서로 다른 목적을 가진 여러 응용자들을 위한 것이므로 다수의 사용자가 동시에 같은 내용의 데이터를 이용할 수 있어야 합니다.
* 내용에 의한 참조(Content Reference) : 데이터베이스에 있는 데이터를 참조할 때 데이터 레코드의 주소나 위치에 의해서가 아니라 사용자가 요구하는 데이터 내용으로 찾습니다.

</details>

### 데이터베이스 언어(DDL, DML, DCL)에 대해 설명해주세요.
* DDL 데이터 정의 언어로 테이블을 만들거나 지우는 언어 입니다. DML은 데이터 조작 언어로 데이터를 넣거나 삭제를 합니다. DCL은 데이터 제어 언어로 권한을 주거나 데이터에 대한 무결성을 유지하기 위해 롤백이나 커밋을 합니다

<details>
    <summary>정답</summary>

* DDL (정의어 : Data Definition Language) : 데이터베이스 구조를 정의, 수정, 삭제하는 언어 ( alter, create, drop )
* DML (조작어 : Data Manipulation Language) : 데이터베이스내의 자료 검색, 삽입, 갱신, 삭제를 위한 언어 ( select, insert, update, delete )
* DCL (제어어 : Data Control Language) : 데이터에 대해 무결성 유지, 병행 수행 제어, 보호와 관리를 위한 언어 ( commit, rollback, grant, revoke )

</details>

### 트리거(Trigger)에 대해 설명해주세요.
* 테이블에서 어떤 이벤트가 발생했을 때 데이터베이스 실행되는 작업입니다.
* 예를 들어 삭제 작업이 일어날 경우 삭제 되기 전에 미리 다른 곳에 삭제될 데이터를 자동으로 저장해 주는 기능 이 대표적인 트리거(TRIGGER)의 사용 용도입니다.
* 트리거를 무수히 많이 사용한다면, 작업 중간에 투입된 개발자들은 문서화 되지 않아 있다면, 파악하는데 상당한 어려움이 있을 것입니다.

<details>
    <summary>정답</summary>

트리거는 특정 테이블에 대한 이벤트에 반응해 INSERT, DELETE, UPDATE 같은 DML 문이 수행되었을 때, 데이터베이스에서 자동으로 동작하도록 작성된 프로그램입니다.
사용자가 직접 호출하는 것이 아닌, 데이터베이스에서 자동적으로 호출한다는 것이 가장 큰 특징입니다.

</details>

### Index에 대해 설명해주시고, 장/단점에 대해 아는대로 말해주세요.
* 데이터베이스 테이블에 자료 검색할 때 순차적으로 찾아보게 되는데, 데이터가 커지면 오래 걸리게됨
* 그래서 색인작업, 컬럼에 인덱스를 걸어 주게 되면 그 컬럼을 기준으로 정렬된 데이터를 따로 관리하게 됩니다.
* 이제 풀스캔이아니라 인덱스 스캔을 하게되어 검색 속도를 높일 수 있습니다.
* 단점으로는 이제 인덱스 테이블을 관리해줘야 하기때문에 비용이 더 들게 됩니다. 삽입하거나 삭제할때 이 인덱스 테이블도 관리하게 됩니다
* 그리고 예를 들어 인덱스를 걸었는데 100만개 데이터를 인덱스 걸었는데 99만개 채택되면 효율이 떨어지게 되서 안거는게 나음
* 풀스캔은 여러블록, 인덱스는 한블록이기때문에 대부분의 데이터를 읽을때는 풀스캔이빠름

<details>
    <summary>추가정보</summary>
  
B+Tree 인덱스 자료구조
자식 노드가 2개 이상인 B-Tree를 개선시킨 자료구조이며,
BTree 리프노드들을 LinkedList로 연결하여 순차 검색을 용이하게 합니다. 해시 테이블보다 나쁜 O(log2N)의 시간복잡도를 갖지만 일반적으로 사용되는 자료구조입니다.

</details>

### 정규화에 대해 설명해주세요.
* 하나의 릴레이션에 하나의 의미만 존재하도록 릴레이션을 분해하는 과정이며, 데이터의 일관성, 최소한의 데이터 중복, 최대한의 데이터 유연성을 위한 방법입니다.
* 이러한 정규화가 이루어지지 않았다면 이상현상이 발생할 수 있습니다. 이상현상이란 삽입이상, 수정이상, 삭제이상이 발생할 수 있고 예를 삭제이상이 발생하여 원치 않는 데이터도 삭제 될 수 있습니다.
* 따라서 적절히 정규화를 진행하여 튜플이 하나의 의미를 가질 수 있게 테이블을 분리해야됩니다.

* 제1 정규형 : 테이블의 컬럼이 원자 값(Atomic Value; 하나의 값)을 갖도록 분해합니다.
* 제2 정규형 : 제1 정규형을 만족하고, 기본키의 부분집합이 결정자가 되어선 안된다는 것입니다. 결정자는 예를들어 학번이 있으면 학생 이름을 알수있듯이 학번이 결정자가 됩니다.
* 제3 정규형 : 이행적 종속을 없애도록 테이블을 분해하는 것이다. 여기서 이행적 종속이라는 것은 A -> B, B -> C가 성립할 때 A -> C가 성립되는 것을 의미한다.
* BCNF정규형 : 제3 정규화를 진행한 테이블에 대해 모든 결정자가 후보키가 되도록 테이블을 분해하는 것
* 참조 https://mangkyu.tistory.com/110

* 결론적으로 하나의 테이블에 그 테이블에 관련있는 데이터만 모아두면 어느정도 정규화가 진행된 테이블을 설계할수 있다고 생각합니다.
* 이상현상을 없앨수 있지만 단점으로는 테이블을 분리함으로써 조인연산이 늘어날 수 있습니다. -> 역정규화를 진행할수도 있음

### SQL Injection이 무엇인지 설명해주세요.
* insert 쿼리에 악의적으로 의도를 갖는 SQL을 구문을 넣어 비정상적으로 조작하는 코드 인젝션 공격 기법입니다. 따라서 피할 수 있는 방법은 이 들어온 구문에대해서 검증을 하게 하면 됩니다.
* 자바에서는 preparedstatement 사용하면 파라미터 바인딩을 하여 sql인젝션 공격을 피할수있음 ->  SQL문법적인 의미가 아니라 문자열로 받아들임

### RDBMS와 NoSQL의 차이에 대해 설명해주세요.
#### RDBMS
* RDBMS는 우선 테이블형태로 데이터를 저장하는 시스템 입니다.
* 중복된 데이터가 없어(데이터 무결성) 변경이 용이하기 때문에 관계를 맺고 있는 데이터가 자주 변경이 이루어지는 시스템에 적합합니다.
* 반면에 확장되기 어려운 구조를 가지고 있습니다.
* 샤딩이라는 기술을 사용하여 수평적 확장을 진행할 수 있습니다. 복잡함, 일반적으로 어플리케이션단에서 구현해야됨
  - 그러나 단점이 존재합니다.
  - 먼저 데이터를 분할하기위해 샤딩키가 있어야하는데, 샤딩키로 분할을하고 난 후 특정 샤드에만 쿼리가 집중될 수 있습니다. 그러면 이때 다시 키를 바꿔서 재배치를 해야되는 문제가 있습니다
  - 분할된만큼 여러 샤드에 걸쳐서 조인이 필요합니다. 
  - 모듈러 샤딩 : 데이터베이스 개수가 줄어들거나 늘어나면 해시 함수도 변경해야하고, 따라서 데이터의 재 정렬이 필요하다.
  - Range Sharding : PK 값을 범위로 지정하여 샤드를 지정하는 방식이다. 증설 작업에 큰 리소스가 소요되지 않는다.  특정한 데이터베이스에만 부하가 몰릴 수 있다.
  - 파티셔닝 :물리적으로 여러 테이블로 분산하여 저장되지만, 사용자는 마치 하나의 테이블에 접근하는 것과 같이 사용할 수 있다는 점이 특징이다. 파티셔닝은 MySQL 단에서 자체적으로 지원하는 기능
  - 샤딩, 파티셔닝 차이점 : 샤딩은 수평 파티셔닝의 일종이다. 차이점은 파티셔닝은 모든 데이터를 동일한 컴퓨터에 저장하지만, 샤딩은 데이터를 서로 다른 컴퓨터에 분산한다는 점

#### NoSQL(Not Only SQL)
* 반면에 NoSQL은 테이블형태가 아닌 정해진 스키마가 없어 자유롭게 데이터를 저장할 수 있다. 예를 키밸류나, 도큐먼트, 그래프가가 될수도 있는 여러가지 형태로 저장될수있습니다.
* 또한 확장을 할때도 RDBMS가 같은 경우는 확장하기어려운 구조를 가지고 있습니다. (예를 들어 분산 할 경우 어떤식으로 데이터를 분산을 할 것인가를 고려해야됩니다.)
* NoSQL은 쉽게 확장이 가능합니다.
* 명확하듯 데이터 중복이 발생할 수 있으며 중복된 데이터가 변경될 시 모든 컬렉션에서 수정해야 하기 때문에 Update가 많이 이루어지지 않는 시스템에 좋으며, Scale-out이 가능하다는 장점을 활용해 막대한 데이터를 저장해야 해서 DB를 Scale-out 해야 되는 시스템에 적합합니다.


### 트랜잭션이란 무엇인지 설명해주세요.
* 일련에 작업들을 하나의 흐름에서 처리하는 것으로, 데이터의 일관성, 투명성을 지키기 위해 사용됩니다. 작업들 중 하나가 실패하면 그 트랜잭션은 롤백처리가 됩니다.
* 특성으로는 ACID가 있습니다. 원자성, 제어성, 일관성, 영속성 
1. 원자성(Atomicity) 작업이 모두 반영되던지 아니면 전혀 반영되지 않아야 한다.
2. 일관성(Consistency) 실행이 완료되면 언제나 일관성 있는 상태를 유지해야 한다.
3. 독립성(Isolation)실행 중인 트랜잭션의 중간결과를 다른 트랜잭션이 접근할 수 없다. 
  - Dirty Read, Non-Repeatable Read, Phantom Read 문제가 있을 수 있다.
  - Dirty Read -> undo 영역 활용하여 해결
  - Non-Repeatable Read -> undo 영역에 트랜잭션 ID를 활용, 즉 자기보다 높은 트랜잭션 ID는 읽지 않고 낮은 것만 읽
  - https://steady-coding.tistory.com/562
  - https://sabarada.tistory.com/117
5. 영속성(Durability) 완료된 결과는 영구적으로 반영되어야 한다.



### DB 락에 대해 설명해주세요.
* 공유락(LS, Shared Lock) Read Lock라고도 하는 공유락은 트랜잭션이 읽기를 할 때 사용하는 락이며, 데이터를 읽기만하기 때문에 같은 공유락 끼리는 동시에 접근이 가능합니다.
* 베타락(LX, Exclusive Lock) Write Lock라고도 하는 베타락은 데이터를 변경할 때 사용하는 락입니다. 트랜잭션이 완료될 때까지 유지되며, 베타락이 끝나기 전까지 어떠한 접근도 허용하지 않습니다.

### Elastic Search의 키워드 검색과 RDBMS의 LIKE 검색의 차이에 대해 설명해주세요.
* 







