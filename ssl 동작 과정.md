
전자 서명은 누구의 무슨키로 암호화하여 서명하고, 누구의 무슨키로 복호화 하여 해당 서명을 검증하는걸까요?

** 전자서명이 필요한 이유?
비대칭 알고리즘을 통하여
A사용자와 B 사용자가 메시지를 보낼 때 공개된 B사용자의 공개키로 암호화하여 보내게 됨
C사용자가 개입하여 A사용자가 보관중인 B사용자의 공개키를 자신의 공개키로 바꿈,
C사용자는 A가 보낸 메시지를 자신의 개인 키로 복호화 하여 내용을 볼 수 있음

이러한 취약점으로
A사용자는 메시지를 보내기전 정말 B사용자의 공개키가 맞는지, 신뢰할 수 있는지 확인해야함

검증 방법은 3자인 CA와 인증서를 이용하는 방법

** B 사용자가 CA를 이용하여 인증서를 받는 방법

신뢰할 수 있는 기관 CA에게 자신의 공개키를 보냄
CA는 사용자의 공개키를 Hash함수를 이용하여 Hash값을 생성
그 Hash값을 CA의 개인키로 암호화 함(전자서명)
다음과 같이 인증서로 만듬

발행자 : 신뢰할 수 있는 기관 CA
공개키의 주인 : 사용자 B
공개키 : 사용자 B의 공개키 원본
서명 : 전자서명값 (사용자 B의 공개키 hash값을 CA의 개인키로 암호화한 값)

사용자 B에게 인증서를 보냄


** A 사용자가 B 사용자가 맞는지 확인 과정

이제 사용자 B는 개인키와 인증서를 소유하고 있음

A사용자와 B 사용자 통신할 때 A사용자는 먼저 B사용자의 인증서를 이용하여
B사용자의 공개키가 맞는지 확인하게 됨

A사용자는 B사용자 인증서에 있는 원본 공개키로 Hash값을 만들고, 전자서명값을 CA의 공개키로 복호화 한 뒤
두 Hash값이 일치한다면 해당 공개키는 B의 소유가 증명됨

제 3자인 CA를 통해서 B가 증명이 됨

** CA의 공개키를 이용하게 되는데 CA의 공개키는 신뢰할 수 있는건지?
CA의 공개키 또한, 인증해 줄 수 있는 다른 기관이 필요함
CA -> CA2 -> CA3 -> ROOT CA (Chain of Trust)
ROOT CA는 자신의 Public Key를 자신의 Private Key로 서명함
해당 CA를  ROOT CA라고함
스스로 서명한 ROOT CA 인증서를 SSC(Self Signed Certificate)라고 함




출처: https://ikcoo.tistory.com/358?category=463803 [이쿠의 슬기로운 개발생활:티스토리]






		



 
